<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SAIH RPC Tester Avan√ßado</title>
  <style>
    body { font-family: system-ui, sans-serif; background: #0f172a; color: #e2e8f0; margin: 0; padding: 20px; }
    h1 { text-align: center; color: #38bdf8; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 16px; margin-top: 20px; }
    .card { background: #1e293b; border-radius: 12px; padding: 16px; box-shadow: 0 4px 8px rgba(0,0,0,.4); }
    pre { background: #0f172a; padding: 8px; border-radius: 8px; overflow-x: auto; font-size: 0.85rem; }
    input, button { padding: 8px; margin-top: 6px; border-radius: 6px; border: none; }
    input { width: 100%; margin-bottom: 10px; }
    button { cursor: pointer; background: #38bdf8; color: #0f172a; font-weight: bold; }
    .result { background: #0f172a; margin-top: 10px; padding: 10px; border-radius: 8px; max-height: 250px; overflow-y: auto; }
  </style>
</head>
<body>
  <h1>üöÄ SAIH RPC Tester Avan√ßado</h1>
  
  <label>üåê RPC URL:
    <input id="rpcUrl" placeholder="cole aqui sua URL RPC" />
  </label>
  <label>üîë Basic Auth (user:password opcional):
    <input id="auth" placeholder="usuario:senha" />
  </label>

  <div class="grid">
    <!-- Exemplo Ethereum -->
    <div class="card">
      <h3>Ethereum ‚Üí eth_blockNumber</h3>
      <pre id="payload-eth-blockNumber">{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}</pre>
      <button onclick="sendRpc('eth_blockNumber')">Enviar</button>
      <button onclick="copyCurl('eth_blockNumber')">Copiar curl</button>
      <div class="result" id="res-eth-blockNumber"></div>
    </div>

    <div class="card">
      <h3>Ethereum ‚Üí eth_chainId</h3>
      <pre id="payload-eth-chainId">{"jsonrpc":"2.0","method":"eth_chainId","params":[],"id":1}</pre>
      <button onclick="sendRpc('eth_chainId')">Enviar</button>
      <button onclick="copyCurl('eth_chainId')">Copiar curl</button>
      <div class="result" id="res-eth-chainId"></div>
    </div>

    <!-- Exemplo Bitcoin -->
    <div class="card">
      <h3>Bitcoin ‚Üí getblockcount</h3>
      <pre id="payload-btc-blockcount">{"jsonrpc":"1.0","id":"rpc","method":"getblockcount","params":[]}</pre>
      <button onclick="sendRpc('btc-blockcount')">Enviar</button>
      <button onclick="copyCurl('btc-blockcount')">Copiar curl</button>
      <div class="result" id="res-btc-blockcount"></div>
    </div>

    <div class="card">
      <h3>Bitcoin ‚Üí getbestblockhash</h3>
      <pre id="payload-btc-besthash">{"jsonrpc":"1.0","id":"rpc","method":"getbestblockhash","params":[]}</pre>
      <button onclick="sendRpc('btc-besthash')">Enviar</button>
      <button onclick="copyCurl('btc-besthash')">Copiar curl</button>
      <div class="result" id="res-btc-besthash"></div>
    </div>
  </div>

<script>
function getAuthHeader(){
  const auth = document.getElementById('auth').value.trim();
  if(!auth) return {};
  return { 'Authorization': 'Basic ' + btoa(auth) };
}

function sendRpc(key){
  const url = document.getElementById('rpcUrl').value.trim();
  if(!url){ alert('Preencha a RPC URL primeiro!'); return; }
  const payload = document.getElementById('payload-'+key).textContent;
  fetch(url, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json', ...getAuthHeader() },
    body: payload
  }).then(r=>r.json()).then(data=>{
    document.getElementById('res-'+key).textContent = JSON.stringify(data,null,2);
  }).catch(err=>{
    document.getElementById('res-'+key).textContent = 'Erro: '+err;
  });
}

function copyCurl(key){
  const url = document.getElementById('rpcUrl').value.trim() || '<COLOQUE-SUA-RPC>'; 
  const payload = document.getElementById('payload-'+key).textContent;
  const auth = document.getElementById('auth').value.trim();
  let curl = `curl -X POST ${url} -H 'Content-Type: application/json' -d '${payload}'`;
  if(auth){
    curl = `curl -u ${auth} -X POST ${url} -H 'Content-Type: application/json' -d '${payload}'`;
  }
  navigator.clipboard.writeText(curl);
  alert('Comando curl copiado!');
}
</script>

</body>
</html>
<!-- üåç Tradutor para todas as na√ß√µes ‚Äì Justi√ßa do Alt√≠ssimo -->
<div id="google_translate_element" style="position: fixed; top: 10px; right: 10px; z-index: 999;"></div>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'pt',
      includedLanguages: 'af,am,ar,az,be,bg,bn,bs,ca,ceb,cs,cy,da,de,el,en,eo,es,et,eu,fa,fi,fr,ga,gl,gu,ha,haw,he,hi,hmn,hr,ht,hu,hy,id,ig,is,it,ja,jw,ka,kk,km,kn,ko,ku,ky,la,lb,lo,lt,lv,mg,mi,mk,ml,mn,mr,ms,mt,my,ne,nl,no,ny,pa,pl,ps,pt,ro,ru,rw,sd,si,sk,sl,sm,sn,so,sq,sr,st,su,sv,sw,ta,te,tg,th,tk,tl,tr,uk,ur,uz,vi,xh,yi,yo,zh-CN,zh-TW,zu',
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');
  }
</script>
<script type="text/javascript"
  src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>